<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ page.title | escape }}</title>
  <meta name="description" content="{{ page.excerpt | strip_html | strip_newlines | escape }}">
  <link rel="stylesheet" href="{{ '/assets/style.css' | relative_url }}">
</head>
<body>
  <div id="container" class="layout">
    <!-- 왼쪽: 연/월/글 목록 -->
    <aside class="left-rail" aria-label="글 목록">
      <h1 class="site-title">블로그 / 이영</h1>

      {% assign posts_by_year = site.posts
         | group_by_exp: "p", "p.date | date: '%Y'"
         | sort: "name" | reverse %}

      {% for year in posts_by_year %}
        <details class="year" {% if forloop.first %}open{% endif %}>
          <summary>{{ year.name }}</summary>
          <ul class="year-list">
            {% assign items = year.items | sort: "date" | reverse %}
            {% for p in items %}
              <li>
                <a class="post-link"
                   href="{{ p.url | relative_url }}"
                   data-path="{{ p.url | relative_url }}">
                  <span class="date">{{ p.date | date: "%m-%d" }}</span>
                  <span class="sep"> – </span>
                  <span class="title">{{ p.title }}</span>
                </a>
              </li>
            {% endfor %}
          </ul>
        </details>
      {% endfor %}
    </aside>

    <!-- 가운데: 본문 -->
    <main id="content" role="main">
      {{ content }}
    </main>

    <!-- 오른쪽: 태그 -->
    <aside id="tags" aria-label="태그">
      <h2># Tags</h2>
      <nav class="tag-list">
        {% assign sorted_tags = site.tags | sort %}
        {% for t in sorted_tags %}
          <a class="tag" href="{{ '/tags/#' | append: t[0] | relative_url }}">#{{ t[0] }}</a>
        {% endfor %}
      </nav>
    </aside>
  </div>

  <script defer src="{{ '/assets/app.js' | relative_url }}"></script>
</body>
</html>
