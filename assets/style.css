:root{
  --rail-l: 280px;      /* 왼쪽 폭 */
  --rail-r: 220px;      /* 오른쪽 폭 */
  --max: 1200px;
  --ink:#111; --muted:#8a8a8a; --rule:#ddd;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; color:var(--ink); background:#fff;
  font-family:-apple-system,BlinkMacSystemFont,"Apple SD Gothic Neo","Noto Sans KR",
               "Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  line-height:1.7; font-size:16px;
}

/* ===== 3열 그리드 레이아웃 ===== */
#container.layout{
  display:grid;
  grid-template-columns: var(--rail-l) minmax(0,1fr) var(--rail-r);
  gap:24px;
  max-width:var(--max);
  margin:0 auto;
  min-height:100vh;      /* 페이지 스크롤 허용 (height 고정 X) */
  padding:16px;
}

/* 왼쪽/오른쪽 레일: sticky + 자체 스크롤 */
.left-rail, #tags{
  position: sticky; top:0; align-self:start;
  max-height: 100vh; overflow:auto;
  padding:16px;
}
.left-rail{ background:#f7f7f7; border-right:1px solid var(--rule); }
#tags{ border-left:1px solid var(--rule); }

/* 가운데 본문: 넘침 방지 */
#content{ min-width:0; }  /* 중요! 회색 띠/겹침 방지 */

/* 연도 토글 + 목록 */
details.year{ margin:.25rem 0 .75rem; }
details.year > summary{
  list-style:none; cursor:pointer; color:var(--muted);
  font-weight:600; padding:.25rem 0;
}
details.year > summary::-webkit-details-marker{ display:none; }

.year-posts{ list-style:none; margin:.25rem 0; padding:0; }
.left-rail a{
  display:inline-block; white-space:pre; text-indent:-3.5ch; padding-left:4ch;
  text-decoration:none; color:#85002c; font-family:"Courier New",monospace;
}
.left-rail a:hover{ text-decoration:underline; }
.left-rail a.active{ font-weight:700; color:#000; }

/* 본문 미디어 */
#content img, #content video{ display:block; max-width:100%; height:auto; }
#content video{ width:100%; border-radius:4px; }

/* 태그 스타일 */
#tags .tag{ display:block; margin:.25rem 0; color:#85002c; text-decoration:none; }
#tags .tag:hover{ text-decoration:underline; }

/* 반응형: 폭이 좁아지면 세로 스택 */
@media (max-width: 960px){
  #container.layout{ grid-template-columns: 1fr; }
  .left-rail, #tags{ position:static; max-height:none; overflow:visible; border:0; background:transparent; padding:8px 16px; }
}
